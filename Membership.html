<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>연간 회원수 및 지점별 등록률</title>

  <style>
    /* 카카오톡 색상 변수 정의 */
    :root {
      --kakao-yellow: #FEE500;
      --kakao-black: #000000;
      --kakao-gray: #666666;
    }

    /* 기본 HTML, Body 스타일 초기화 */
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow-x: hidden;
      font-family: -apple-system, BlinkMacSystemFont, "Apple SD Gothic Neo", "Pretendard", sans-serif;
    }

    /* 메인 컨테이너 스타일 */
    .container {
      width: 97%;
      max-width: 100%;
      height: 100%;
      margin: 0 auto;
      padding: 10px;
      border-radius: 12px;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
    }

    /* 버튼 컨테이너 스타일 */
    .result-container {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-top: 10px;
      margin-bottom: 15px;
      background-color: #FFFFFF;
      color: #333D4B;
      border-radius: 12px;
      padding: 10px;
      font-family: "Pretendard", sans-serif;
      font-weight: bold;
      line-height: 1.5;
    }

     /* 토글 버튼 컨테이너 스타일 */
    .toggle-container {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
      max-width: 600px; /* 버튼 그룹 최대 너비 제한 (PC) */
      background-color: #F0F0F0; /* 배경색 변경 */
      border-radius: 8px;
      padding: 4px;
      flex-wrap: wrap; /* 모바일에서 버튼 줄 바꿈 허용 */
      gap: 4px; /* 버튼 사이 간격 (wrap 시 사용) */
    }

    /* 토글 버튼 기본 스타일 */
    .toggle-button {
      border: none;
      background: transparent; /* 기본 배경 투명 */
      color: #555555; /* 기본 글자색 변경 */
      padding: 8px 16px; /* 패딩 조정 */
      cursor: pointer;
      border-radius: 6px;
      transition: background 0.3s, color 0.3s;
      /* margin 제거 (gap 사용) */
      font-size: 14px; /* 글자 크기 약간 줄임 */
      font-weight: 500;
      flex-grow: 1; /* 가능한 공간 차지 */
      flex-basis: auto; /* 기본 크기 자동 */
      text-align: center;
      white-space: nowrap; /* 버튼 이름 줄바꿈 방지 */
    }

    /* 토글 버튼 활성화 상태 */
    .toggle-button.active {
      background: #FEE500; /* 활성 배경 흰색 */
      color: var(--kakao-black);
      font-weight: 600; /* 약간 더 굵게 */
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }


    /* 그리드 컨테이너 스타일 */
    .grid-container {
      display: flex;
      flex-wrap: wrap;
      gap: 50px;
      padding: 10px;
      max-width: 1300px;
      margin: 0 auto;
      justify-content: center;
    }

    /* iframe 컨테이너 스타일 */
    .iframe-container {
      flex: 1 2 50%;
      min-width: 480px;
      height: 450px;
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* iframe 스타일 */
    .iframe-container iframe {
      transform: scale(1.2);
      position: absolute;
      top: 0;
      left: 0;
      width: 55%;
      height: 90%;
      border: none;
      box-shadow: 0 2px 6px rgba(0,0,0,0.4);
      border-radius: 8px;
      object-fit: contain;
      transform-origin: -850px 0;
    }

    /* 모바일 화면용 스타일 (767px 이하) */
    @media (max-width: 767px) {
      .grid-container {
        gap: 50px;
        padding: 10px;
      }

      .iframe-container {
        flex: 1 1 100%;
        height: 250px;
        min-width: 250px;
      }

      .iframe-container iframe {
        transform: scale(0.75);
        width: 133%;
        height: 155%;
        transform-origin: 0 0;
      }

      .result-container {
        padding: 8px;
        margin-bottom: 10px;
        margin-top: 5px;
      }

      .toggle-button {
        padding: 8px 16px;
        font-size: 12px;
      }
    }

    /* PC 화면용 스타일 (768px 이상) */
    @media (min-width: 768px) {
      .container {
        border-radius: 8px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="result-container">
      <div class="toggle-container">
        <button class="toggle-button active" id="listButton">연간 회원수</button>
        <button class="toggle-button" id="resultButton">월간 등록률</button>
      </div>
    </div>

    <div class="grid-container" id="dataFrameContainer">
      <!-- 연간 회원수 차트 프레임들 -->
      <div class="iframe-container">
        <iframe id="yearlyMembersChart1" seamless frameborder="0" scrolling="no"
                src="https://docs.google.com/spreadsheets/d/e/2PACX-1vQVgqS2NQZ6HBXexX2zRBgn8KqbN4uFzwdwqI3xi12Z0uXvXHG_RlR-cizEbtHOPaysG20NCvexJrdD/pubchart?oid=1403897787&amp;format=interactive"></iframe>
      </div>
      <div class="iframe-container">
        <iframe id="yearlyMembersChart2" seamless frameborder="0" scrolling="no"
                src="https://docs.google.com/spreadsheets/d/e/2PACX-1vTfS6FBJfF9AYWutnEAfbY0TYKwcKSfhXW30MZ3A0tZnjVoMIETs-ggkJ6GLeeRseFpWM53-cqiSmLU/pubchart?oid=1403897787&amp;format=interactive"></iframe>
      </div>
    </div>
  </div>

  <script>
    // 버튼 및 뷰 요소 가져오기
    const registrationRateButton = document.getElementById('resultButton');
    const yearlyMembersButton = document.getElementById('listButton');
    const dataFrameContainer = document.getElementById('dataFrameContainer');

    // 차트 URL 정의
    const chartUrls = {
      yearlyMembers: [
        "https://docs.google.com/spreadsheets/d/e/2PACX-1vQVgqS2NQZ6HBXexX2zRBgn8KqbN4uFzwdwqI3xi12Z0uXvXHG_RlR-cizEbtHOPaysG20NCvexJrdD/pubchart?oid=1403897787&amp;format=interactive",
        "https://docs.google.com/spreadsheets/d/e/2PACX-1vTfS6FBJfF9AYWutnEAfbY0TYKwcKSfhXW30MZ3A0tZnjVoMIETs-ggkJ6GLeeRseFpWM53-cqiSmLU/pubchart?oid=1403897787&amp;format=interactive"
      ],
      registrationRate: [
        // 여기에 월간 등록률 차트 URL을 추가하세요
        // 예시: "https://docs.google.com/spreadsheets/d/e/.../pubchart?oid=123456789&amp;format=interactive"
      ]
    };

    // iframe 생성 함수
    function createIframe(url) {
      const container = document.createElement('div');
      container.className = 'iframe-container';
      
      const iframe = document.createElement('iframe');
      iframe.setAttribute('seamless', '');
      iframe.setAttribute('frameborder', '0');
      iframe.setAttribute('scrolling', 'no');
      iframe.src = url;
      
      container.appendChild(iframe);
      return container;
    }

    // 그리드 컨테이너 업데이트 함수
    function updateGridContainer(urls) {
      dataFrameContainer.innerHTML = '';
      urls.forEach(url => {
        const iframeContainer = createIframe(url);
        dataFrameContainer.appendChild(iframeContainer);
      });
    }

    // "지점별 등록률" 버튼 클릭 이벤트
    registrationRateButton.addEventListener('click', () => {
      if (registrationRateButton.classList.contains('active')) return;

      dataFrameContainer.style.opacity = 0;
      setTimeout(() => {
        updateGridContainer(chartUrls.registrationRate);
        registrationRateButton.classList.add('active');
        yearlyMembersButton.classList.remove('active');
        dataFrameContainer.style.opacity = 1;
      }, 300);
    });

    // "연간 회원수" 버튼 클릭 이벤트
    yearlyMembersButton.addEventListener('click', () => {
      if (yearlyMembersButton.classList.contains('active')) return;

      dataFrameContainer.style.opacity = 0;
      setTimeout(() => {
        updateGridContainer(chartUrls.yearlyMembers);
        yearlyMembersButton.classList.add('active');
        registrationRateButton.classList.remove('active');
        dataFrameContainer.style.opacity = 1;
      }, 300);
    });

    // 초기 로드 상태 설정
    function initializeView() {
      updateGridContainer(chartUrls.yearlyMembers);
      registrationRateButton.classList.remove('active');
      yearlyMembersButton.classList.add('active');
    }

    initializeView();
  </script>
</body>
</html>
